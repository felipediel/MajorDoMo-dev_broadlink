
<!-- table zwave_devices search -->
[#if API_TYPE!=""#]
<div>
<a href="#" class="btn btn-primary" onClick="$('#api_settings').toggle();return false;"><i class="glyphicon glyphicon-cog"></i> <#LANG_SETUP#></a>
<div class="float-right">
<a href="?data_source=<#DATA_SOURCE#>&view_mode=gen" class="btn btn-primary"><span class="glyphicon glyphicon-compressed"></span> RMTools</a>
<a href="?data_source=<#DATA_SOURCE#>&view_mode=cloud" class="btn btn-primary"><span class="glyphicon glyphicon-cloud"></span> BLCloud</a>
</div>
</div>
<div style="display:none" id='api_settings'>
&nbsp;
<form action="?" method="post" enctype="multipart/form-data" name="frmEdit" class="form-horizontal">
<fieldset>
<div class="form-group">
 <label class="control-label"[#if ERR_API_TYPE#] style="color:red;font-weight:bold"[#endif#]>
 API:
 </label>
	<div class="btn-group controls" style="margin-left:0px" data-toggle="buttons">
		<label class="btn [#if API_TYPE=="php"#]btn-primary[#else#]btn-default[#endif#]">
			<input type="radio" name="api_type" value="php" [#if API_TYPE=="php"#] checked[#endif#]> PHP (module-only)
		</label>
		<label class="btn [#if API_TYPE=="rm-brige"#]btn-primary[#else#]btn-default[#endif#]">
			<input type="radio" name="api_type" value="rm-brige" [#if API_TYPE=="rm-brige"#] checked[#endif#]> RM-Bridge
		</label>
		<label class="btn [#if API_TYPE=="httpbrige"#]btn-primary[#else#]btn-default[#endif#]">
			<input type="radio" name="api_type" value="httpbrige" [#if API_TYPE=="httpbrige"#] checked[#endif#]> BroadlinkHTTPBridge
		</label>
	</div>
</div>
[#if API_TYPE="php"#]
<div class="form-group">
 <label class="control-label"[#if ERR_IP_UPDATE#] style="color:red;font-weight:bold"[#endif#]>
Автоматическое обновление IP:
 </label>
 <div class="controls"><input type="checkbox" name="ip_update" [#if IP_UPDATE="need"#] checked[#endif#]></div>
</div>
<div class="form-group">
 <label class="control-label">
Обновлять значения только при изменении:
 </label>
 <div class="controls"><input type="checkbox" name="val_update" [#if VAL_UPDATE="on_change"#] checked[#endif#]></div>
</div>
<div class="form-group">
 <label class="control-label">
Проверять доступность устройств перед опросом:
 </label>
 <div class="controls"><input type="checkbox" name="val_ping" [#if VAL_PING="true"#] checked[#endif#]></div>
</div>
 <label class="control-label">
Формат используемый для Импорта/Экспорта:
 </label>
 <div class="btn-group controls" style="margin-left:0px" data-toggle="buttons">
 <label class="btn [#if DATA_EXPORT_TYPE="JSON"#]btn-primary[#else#]btn-default[#endif#]">
 <input type="radio" name="data_export_type" value="JSON"[#if DATA_EXPORT_TYPE="JSON"#] checked[#endif#]> JSON
</label>
<label class="btn [#if DATA_EXPORT_TYPE="CSV"#]btn-primary[#else#]btn-default[#endif#]">
 <input type="radio" name="data_export_type" value="CSV"[#if DATA_EXPORT_TYPE="CSV"#] checked[#endif#]> CSV
</label>
 </div>
<br /><br /><br />
[#endif#]
[#if API_TYPE="httpbrige"#]
<div class="form-group">
 <label class="control-label"[#if ERR_API_URL#] style="color:red;font-weight:bold"[#endif#]>
 API URL:
 (http://xxx.xxx.xxx.xxx:port)
 </label>
 <div class="controls"><input type="text" name="api_url" value="[#API_URL#]" class="input"></div>
</div>
[#endif#]
<div class="form-actions">
<button type="submit" name="subm" value="Submit" class="btn btn-primary"><#LANG_UPDATE#></button>
<input type="hidden" name="view_mode" value="update_settings">
<input type="hidden" name="mode" value="update">
</div>
</fieldset>
</form>
</div><br>
[#endif#]

 [#if API_TYPE=""#]
  [#inc first_start.html#]
 [#endif API_TYPE#]
 
 [#if API_TYPE="rm-brige"#]
  [#inc rm-brige/action_admin.html#]
 [#endif API_TYPE#]

 [#if API_TYPE="httpbrige"#]
   [#inc httpbrige/action_admin.html#]
 [#endif API_TYPE#]

 [#if API_TYPE="php"#]
   [#inc php/action_admin.html#]
 [#endif API_TYPE#]
 
 [#if VIEW_MODE="cloud"#]
   [#inc cloud.html#]
 [#endif VIEW_MODE#]
 [#if VIEW_MODE="gen"#]
   [#inc code_gen/gen.html#]
 [#endif VIEW_MODE#]
